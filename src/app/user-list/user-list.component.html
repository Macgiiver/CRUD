<table
    mat-table
    [dataSource]="users"
>
    <!-- Definir las columnas -->
    <ng-container
        *ngFor="let column of displayedColumns"
        [matColumnDef]="column"
    >
        <th
            mat-header-cell
            *matHeaderCellDef
        >{{ column }}</th>
        <td
            mat-cell
            *matCellDef="let user"
        >
            {{ column !== 'acciones' ? user[column] : '' }}
            <button
                mat-icon-button
                color="primary"
                (click)="openEditDialog(user)"
                *ngIf="column === 'acciones'"
            >
                <mat-icon>edit</mat-icon>
            </button>
            <button
                mat-icon-button
                color="warn"
                (click)="delete(user)"
                *ngIf="column === 'acciones'"
            >
                <mat-icon>delete</mat-icon>
            </button>
        </td>
    </ng-container>

    <!-- Fila para acciones -->
    <tr
        mat-header-row
        *matHeaderRowDef="displayedColumns"
    ></tr>
    <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns;"
    ></tr>
</table>

<button
    mat-raised-button
    color="primary"
    (click)="openEditDialog()"
>Agregar Usuario</button>